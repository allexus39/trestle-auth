<%= form_for authentication_scope, url: login_path, html: { class: "login-form" } do |f| %>
  <header class="auth-header">
    <%= hook("auth.login.heading") do %>
      <h1><%= trestle_auth_title %></h1>
    <% end %>
  </header>

  <% if flash[:error] -%>
    <div class="alert alert-danger error-bg">
      <p><%= flash[:error] %></p>
    </div>
  <% end -%>

  <% if @role.present? %>
    <%= render "role_form", f: f %>
  <% else %>
    <%= render "form", f: f %>
  <% end %>
<% end %>

<% if @role.blank? %>
  <% Trestle.config.auth.user_roles.each do |role| %>
    <%= link_to Trestle.config.auth.user_class.human_attribute_name(
      "#{Trestle.config.auth.user_roles_attr.to_s.singularize}.#{role}"
    ), login_path(role: role), class: "btn btn-primary btn-block btn-lg" %>
  <% end %>
<% end %>
